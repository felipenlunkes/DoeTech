<div class="donation-success-container">
  @if (loading) {
  <div class="loading-state">
    <div class="loading-spinner">Carregando detalhes...</div>
  </div>
  } @else if (error && !donation) {
  <div class="error-state">
    <div class="error-message">{{ error }}</div>
    <button (click)="onBackToBrowse()" type="button" class="btn btn-primary">
      Voltar para Busca
    </button>
  </div>
  } @else {
  <div class="success-content">
    <div class="success-header">
      <div class="success-icon">
        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
          <circle cx="12" cy="12" r="12" fill="var(--success-color)" />
          <path d="M8 12l2 2 4-4" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
        </svg>
      </div>
      <h1>Solicitação Enviada com Sucesso!</h1>
      <p>Sua solicitação de doação foi criada e o doador será notificado.</p>
    </div>

    @if (donation) {
    <div class="donation-details">
      <h2>Detalhes da Solicitação</h2>

      <div class="detail-card">
        <div class="detail-row">
          <span class="detail-label">ID da Solicitação:</span>
          <span class="detail-value">{{ donation.id }}</span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Status:</span>
          <span class="detail-value">
            <span class="donation-status" [class]="getStatusClass(donation.status)">
              {{ getStatusLabel(donation.status) }}
            </span>
          </span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Data da Solicitação:</span>
          <span class="detail-value">{{ formatDateTime(donation.createdAt) }}</span>
        </div>

        <div class="detail-row">
          <span class="detail-label">Equipamentos Solicitados:</span>
          <span class="detail-value">{{ donation.equipments.length }} item(s)</span>
        </div>
      </div>
    </div>
    }

    <div class="next-steps">
      <h2>Próximos Passos</h2>
      <div class="steps-list">
        <div class="step-item">
          <div class="step-number">1</div>
          <div class="step-content">
            <h3>Aguarde o Contato</h3>
            <p>O doador receberá uma notificação sobre sua solicitação e entrará em contato.</p>
          </div>
        </div>

        <div class="step-item">
          <div class="step-number">2</div>
          <div class="step-content">
            <h3>Combinação de Entrega</h3>
            <p>Vocês irão combinar os detalhes da entrega dos equipamentos.</p>
          </div>
        </div>

        <div class="step-item">
          <div class="step-number">3</div>
          <div class="step-content">
            <h3>Recebimento</h3>
            <p>Após receber os equipamentos, confirme o recebimento na plataforma.</p>
          </div>
        </div>
      </div>
    </div>

    <div class="action-buttons">
      <button (click)="onBackToBrowse()" type="button" class="btn btn-primary">
        Buscar Mais Equipamentos
      </button>
      <button (click)="onViewProfile()" type="button" class="btn btn-secondary">
        Ver Meu Perfil
      </button>
    </div>
  </div>
  }
</div>